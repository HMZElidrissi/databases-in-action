"use strict";(self.webpackChunkdatabases_in_action=self.webpackChunkdatabases_in_action||[]).push([[6817],{7623:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var o=r(4848),t=r(8453);const s={sidebar_position:6},l="Laravel Controllers",i={id:"Laravel-Controllers",title:"Laravel Controllers",description:"Controllers in Laravel are responsible for handling user requests and managing the flow of data in the application. Controllers contain methods, also known as actions, that are invoked when a specific route is accessed. They receive user input, interact with models and services, and return responses to the user. Controllers help separate the logic of an application from the routing layer.",source:"@site/docs/Laravel-Controllers.md",sourceDirName:".",slug:"/Laravel-Controllers",permalink:"/databases-in-action/docs/Laravel-Controllers",draft:!1,unlisted:!1,editUrl:"https://github.com/HMZElidrissi/databases-in-action/blob/main/docs/Laravel-Controllers.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Laravel Routing",permalink:"/databases-in-action/docs/Laravel-Routing"},next:{title:"Laravel Views",permalink:"/databases-in-action/docs/category/laravel-views"}},a={},c=[{value:"Basic Controllers",id:"basic-controllers",level:2},{value:"Single Action Controllers",id:"single-action-controllers",level:2},{value:"Resource Controllers",id:"resource-controllers",level:2},{value:"Actions Handled by Resource Controllers",id:"actions-handled-by-resource-controllers",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"laravel-controllers",children:"Laravel Controllers"}),"\n",(0,o.jsx)(n.p,{children:"Controllers in Laravel are responsible for handling user requests and managing the flow of data in the application. Controllers contain methods, also known as actions, that are invoked when a specific route is accessed. They receive user input, interact with models and services, and return responses to the user. Controllers help separate the logic of an application from the routing layer."}),"\n",(0,o.jsx)(n.h2,{id:"basic-controllers",children:"Basic Controllers"}),"\n",(0,o.jsxs)(n.p,{children:["To quickly generate a new controller, you may run the ",(0,o.jsx)(n.code,{children:"make:controller"})," Artisan command. By default, all of the controllers for your application are stored in the ",(0,o.jsx)(n.code,{children:"app/Http/Controllers"})," directory:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"php artisan make:controller UserController\n"})}),"\n",(0,o.jsx)(n.p,{children:"Let's take a look at an example of a basic controller. A controller may have any number of public methods which will respond to incoming HTTP requests:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"<?php\n \nnamespace App\\Http\\Controllers;\n\nclass UserController extends Controller {\n\xa0\xa0\xa0\xa0public function index() {\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0$users = User::all();\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0return view('users.index', ['users' => $users]);\n\xa0\xa0\xa0\xa0}\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"single-action-controllers",children:"Single Action Controllers"}),"\n",(0,o.jsxs)(n.p,{children:["If a controller action is particularly complex, you might find it convenient to dedicate an entire controller class to that single action. To accomplish this, you may define a single ",(0,o.jsx)(n.code,{children:"__invoke"})," method within the controller:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"<?php\n \nnamespace App\\Http\\Controllers;\n \nclass ProvisionServer extends Controller\n{\n    /**\n     * Provision a new web server.\n     */\n    public function __invoke()\n    {\n        // ...\n    }\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"When registering routes for single action controllers, you do not need to specify a controller method. Instead, you may simply pass the name of the controller to the router:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use App\\Http\\Controllers\\ProvisionServer;\n \nRoute::post('/server', ProvisionServer::class);\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You may generate an invokable controller by using the ",(0,o.jsx)(n.code,{children:"--invokable"})," option of the ",(0,o.jsx)(n.code,{children:"make:controller"})," Artisan command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"php artisan make:controller ProvisionServer --invokable\n"})}),"\n",(0,o.jsx)(n.h2,{id:"resource-controllers",children:"Resource Controllers"}),"\n",(0,o.jsxs)(n.p,{children:['If you think of each Eloquent model in your application as a "resource", it is typical to perform the same sets of actions against each resource in your application. For example, imagine your application contains a ',(0,o.jsx)(n.code,{children:"Photo"})," model and a ",(0,o.jsx)(n.code,{children:"Movie"})," model. It is likely that users can create, read, update, or delete these resources."]}),"\n",(0,o.jsxs)(n.p,{children:["We can use the ",(0,o.jsx)(n.code,{children:"make:controller"})," Artisan command's ",(0,o.jsx)(n.code,{children:"--resource"})," option to quickly create a controller to handle these actions:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"php artisan make:controller PhotoController --resource\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This command will generate a controller at ",(0,o.jsx)(n.code,{children:"app/Http/Controllers/PhotoController.php"}),". The controller will contain a method for each of the available resource operations. Next, you may register a resource route that points to the controller:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"use App\\Http\\Controllers\\PhotoController;\n \nRoute::resource('photos', PhotoController::class);\n"})}),"\n",(0,o.jsx)(n.h3,{id:"actions-handled-by-resource-controllers",children:"Actions Handled by Resource Controllers"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Verb"}),(0,o.jsx)(n.th,{children:"URI"}),(0,o.jsx)(n.th,{children:"Action"}),(0,o.jsx)(n.th,{children:"Route Name"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"GET"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/photos"})}),(0,o.jsx)(n.td,{children:"index"}),(0,o.jsx)(n.td,{children:"photos.index"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"GET"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/photos/create"})}),(0,o.jsx)(n.td,{children:"create"}),(0,o.jsx)(n.td,{children:"photos.create"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"POST"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/photos"})}),(0,o.jsx)(n.td,{children:"store"}),(0,o.jsx)(n.td,{children:"photos.store"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"GET"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/photos/{photo}"})}),(0,o.jsx)(n.td,{children:"show"}),(0,o.jsx)(n.td,{children:"photos.show"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"GET"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/photos/{photo}/edit"})}),(0,o.jsx)(n.td,{children:"edit"}),(0,o.jsx)(n.td,{children:"photos.edit"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"PUT/PATCH"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/photos/{photo}"})}),(0,o.jsx)(n.td,{children:"update"}),(0,o.jsx)(n.td,{children:"photos.update"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"DELETE"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"/photos/{photo}"})}),(0,o.jsx)(n.td,{children:"destroy"}),(0,o.jsx)(n.td,{children:"photos.destroy"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>i});var o=r(6540);const t={},s=o.createContext(t);function l(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);