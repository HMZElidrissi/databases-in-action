"use strict";(self.webpackChunkdatabases_in_action=self.webpackChunkdatabases_in_action||[]).push([[954],{2704:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>c});var s=i(4848),a=i(8453);const t={sidebar_position:3},r="Querying Data",l={id:"Relational-Database-Management-Systems/Querying-Data",title:"Querying Data",description:"Sample Data",source:"@site/docs/Relational-Database-Management-Systems/Querying-Data.md",sourceDirName:"Relational-Database-Management-Systems",slug:"/Relational-Database-Management-Systems/Querying-Data",permalink:"/databases-in-action/docs/Relational-Database-Management-Systems/Querying-Data",draft:!1,unlisted:!1,editUrl:"https://github.com/HMZElidrissi/databases-in-action/blob/main/docs/Relational-Database-Management-Systems/Querying-Data.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Data Manipulation Language (DML)",permalink:"/databases-in-action/docs/Relational-Database-Management-Systems/DML"},next:{title:"MySQL",permalink:"/databases-in-action/docs/Relational-Database-Management-Systems/MySQL"}},d={},c=[{value:"Sample Data",id:"sample-data",level:2},{value:"SQL Query Execution Order",id:"sql-query-execution-order",level:2},{value:"Simple Queries",id:"simple-queries",level:2},{value:"Aggregating Data",id:"aggregating-data",level:2},{value:"Grouping Data",id:"grouping-data",level:2},{value:"Limiting Results",id:"limiting-results",level:2}];function o(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"querying-data",children:"Querying Data"}),"\n",(0,s.jsx)(n.h2,{id:"sample-data",children:"Sample Data"}),"\n",(0,s.jsxs)(n.p,{children:["The dataset contains details of the world's highest valued media franchises by gross revenue. Each row contains one franchise, and the table is named ",(0,s.jsx)(n.strong,{children:"franchises"}),"."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Franchise"}),(0,s.jsx)(n.th,{children:"inception_year"}),(0,s.jsx)(n.th,{children:"total_revenue_busd"}),(0,s.jsx)(n.th,{children:"original_medium"}),(0,s.jsx)(n.th,{children:"owner"}),(0,s.jsx)(n.th,{children:"n_movies"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Star Wars"}),(0,s.jsx)(n.td,{children:"1977"}),(0,s.jsx)(n.td,{children:"46.7"}),(0,s.jsx)(n.td,{children:"movie"}),(0,s.jsx)(n.td,{children:"The Walt Disney Company"}),(0,s.jsx)(n.td,{children:"12"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Mickey Mouse and Friends"}),(0,s.jsx)(n.td,{children:"1928"}),(0,s.jsx)(n.td,{children:"52.2"}),(0,s.jsx)(n.td,{children:"cartoon"}),(0,s.jsx)(n.td,{children:"The Walt Disney Company"}),(0,s.jsx)(n.td,{children:"-"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Anpanman"}),(0,s.jsx)(n.td,{children:"1973"}),(0,s.jsx)(n.td,{children:"38.4"}),(0,s.jsx)(n.td,{children:"book"}),(0,s.jsx)(n.td,{children:"Froebel-kan"}),(0,s.jsx)(n.td,{children:"33"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Winnie the Pooh"}),(0,s.jsx)(n.td,{children:"1924"}),(0,s.jsx)(n.td,{children:"48.5"}),(0,s.jsx)(n.td,{children:"book"}),(0,s.jsx)(n.td,{children:"The Walt Disney Company"}),(0,s.jsx)(n.td,{children:"6"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Pok\xe9mon"}),(0,s.jsx)(n.td,{children:"1996"}),(0,s.jsx)(n.td,{children:"88"}),(0,s.jsx)(n.td,{children:"video game"}),(0,s.jsx)(n.td,{children:"The Pok\xe9mon Company"}),(0,s.jsx)(n.td,{children:"24"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Disney Princess"}),(0,s.jsx)(n.td,{children:"2000"}),(0,s.jsx)(n.td,{children:"45.4"}),(0,s.jsx)(n.td,{children:"movie"}),(0,s.jsx)(n.td,{children:"The Walt Disney Company"}),(0,s.jsx)(n.td,{children:"-"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"sql-query-execution-order",children:"SQL Query Execution Order"}),"\n",(0,s.jsx)(n.p,{children:"SQL quires are executed in the following order:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"FROM + JOIN -> WHERE -> GROUP BY -> HAVING -> SELECT -> DISTINCT -> ORDER BY -> LIMIT\n"})}),"\n",(0,s.jsx)(n.h2,{id:"simple-queries",children:"Simple Queries"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Selecting all columns"',children:"SELECT * FROM franchises;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Selecting specific columns"',children:"SELECT Franchise, total_revenue_busd\nFROM franchises;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Selecting with a condition"',children:"SELECT Franchise, inception_year\nFROM franchises\nWHERE inception_year > 1990;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Selecting with multiple conditions"',children:"SELECT Franchise, inception_year\nFROM franchises\nWHERE inception_year > 1990\nAND total_revenue_busd > 50;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Selecting with a condition on a text column"',children:"SELECT Franchise, original_medium\nFROM franchises\nWHERE original_medium = 'movie';\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"Operators",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"="}),", ",(0,s.jsx)(n.code,{children:"!="})," or ",(0,s.jsx)(n.code,{children:"<>"}),", ",(0,s.jsx)(n.code,{children:">"}),", ",(0,s.jsx)(n.code,{children:"<"}),", ",(0,s.jsx)(n.code,{children:">="}),", ",(0,s.jsx)(n.code,{children:"<="})," for comparison"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"AND"}),", ",(0,s.jsx)(n.code,{children:"OR"}),", ",(0,s.jsx)(n.code,{children:"NOT"})," for logical operations"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"LIKE"})," for pattern matching with ",(0,s.jsx)(n.code,{children:"%"})," and ",(0,s.jsx)(n.code,{children:"_"}),". (",(0,s.jsx)(n.code,{children:"_"})," matches any single character, ",(0,s.jsx)(n.code,{children:"%"})," matches any sequence of characters)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"IN"}),", ",(0,s.jsx)(n.code,{children:"BETWEEN"}),", ",(0,s.jsx)(n.code,{children:"IS NULL"}),", ",(0,s.jsx)(n.code,{children:"IS NOT NULL"})," for special cases"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<=>"})," for NULL-safe equality comparison (use case: ",(0,s.jsx)(n.code,{children:"NULL <=> NULL"})," returns ",(0,s.jsx)(n.code,{children:"1"}),")"]}),"\n"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Overriding the default column name"',children:"SELECT Franchise AS Name, total_revenue_busd AS Revenue\nFROM franchises;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Arranging the output"',children:"SELECT Franchise, inception_year\nFROM franchises\nORDER BY inception_year DESC;\n\n-- or\n\nSELECT Franchise, inception_year\nFROM franchises\nORDER BY inception_year ASC;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Limiting the number of rows"',children:"SELECT Franchise, inception_year\nFROM franchises\nLIMIT 3;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Get unique values"',children:"SELECT DISTINCT original_medium\nFROM franchises;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"aggregating-data",children:"Aggregating Data"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Get the number of rows"',children:"SELECT COUNT(*)\nFROM franchises;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Get the sum of a column"',children:"SELECT SUM(total_revenue_busd)\nFROM franchises;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Get the average of a column"',children:"SELECT AVG(total_revenue_busd)\nFROM franchises;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Get the minimum and maximum values"',children:"SELECT MIN(total_revenue_busd), MAX(total_revenue_busd)\nFROM franchises;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"grouping-data",children:"Grouping Data"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Grouping by a column"',children:"SELECT original_medium, COUNT(*)\nFROM franchises\nGROUP BY original_medium;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Grouping by a column with a condition"',children:"SELECT original_medium, COUNT(*)\nFROM franchises\nWHERE total_revenue_busd > 50\nGROUP BY original_medium;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Grouping by a column with a condition and ordering"',children:"SELECT original_medium, COUNT(*)\nFROM franchises\nWHERE total_revenue_busd > 50\nGROUP BY original_medium\nORDER BY COUNT(*) DESC;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Grouping by multiple columns"',children:"SELECT original_medium, owner, COUNT(*)\nFROM franchises\nGROUP BY original_medium, owner;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Get the rows where values in a group meet a condition"',children:"SELECT original_medium, owner, COUNT(*)\nFROM franchises\nGROUP BY original_medium, owner\nHAVING COUNT(*) > 1;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"limiting-results",children:"Limiting Results"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Limiting the number of groups"',children:"SELECT original_medium, COUNT(*)\nFROM franchises\nGROUP BY original_medium\nLIMIT 2;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Limiting the number of groups and ordering"',children:"SELECT original_medium, COUNT(*)\nFROM franchises\nGROUP BY original_medium\nORDER BY COUNT(*) DESC\nLIMIT 2;\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Limiting the number of groups and skipping the first N rows"',children:"SELECT original_medium, COUNT(*)\nFROM franchises\nGROUP BY original_medium\nORDER BY COUNT(*) DESC\nLIMIT 10 OFFSET 0;\n-- This will retrieve the first 10 rows\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Limiting the number of groups and skipping the first N rows"',children:"SELECT original_medium, COUNT(*)\nFROM franchises\nGROUP BY original_medium\nORDER BY COUNT(*) DESC\nLIMIT 10 OFFSET 5;\n-- This will retrieve 10 rows starting from the 6th row\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var s=i(6540);const a={},t=s.createContext(a);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);